#!/usr/bin/env bash
#
# This file is generated by the Chef Cookbook: 
# Name:   Ignite
# Source: https://github.com/BegleyBrothers/cookbook-ignite
#
# Any changes will be overwritten.
#

i=0
while [ $i -lt <%= @service_timeout * 2 %> ]; do
  <%= @ignite_cmd %> ps | head -n 1 | grep ^CONTAINER > /dev/null 2>&1
  [ $? -eq 0 ] && break
  ((i++))
  sleep 0.5
done
[ $i -eq <%= @service_timeout * 2 %> ] && exit 1
exit 0
